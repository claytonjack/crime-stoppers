<app-header [title]="suspect?.Name || 'Suspect Details'"></app-header>

<ion-content [fullscreen]="true">
	<!-- Loading state -->
	<div *ngIf="isLoading" class="ion-padding">
		<ion-card>
			<ion-card-content>
				<div class="details-loading">
					<ion-skeleton-text animated
						style="width: 100%; height: 200px; border-radius: 8px; margin-bottom: 16px;"></ion-skeleton-text>
					<ion-skeleton-text animated style="width: 70%; height: 24px; margin-bottom: 12px;"></ion-skeleton-text>
					<ion-skeleton-text animated style="width: 50%; height: 18px; margin-bottom: 8px;"></ion-skeleton-text>
					<ion-skeleton-text animated style="width: 60%; height: 18px; margin-bottom: 8px;"></ion-skeleton-text>
					<ion-skeleton-text animated style="width: 40%; height: 18px; margin-bottom: 16px;"></ion-skeleton-text>
					<ion-skeleton-text animated style="width: 100%; height: 60px;"></ion-skeleton-text>
				</div>
			</ion-card-content>
		</ion-card>
	</div>

	<!-- Suspect details -->
	<div *ngIf="!isLoading && suspect" class="ion-padding">
		<!-- Main suspect image and basic info -->
		<ion-card class="suspect-main-card">
			<div class="suspect-image-container">
				<img [src]="getImageUrl()" [alt]="suspect.Name" (error)="onImageError($event)" class="suspect-main-image" />
			</div>
			<ion-card-content>
				<div class="suspect-main-info">
					<h1 class="suspect-name">{{ suspect.Name }}</h1>
					<div class="suspect-basic-info">
						<div class="info-item" *ngIf="suspect.Residence">
							<ion-icon name="location"></ion-icon>
							<span>{{ suspect.Residence }}</span>
						</div>
						<div class="info-item" *ngIf="suspect.Age">
							<ion-icon name="person"></ion-icon>
							<span>Age: {{ suspect.Age }}</span>
						</div>
					</div>
				</div>
			</ion-card-content>
		</ion-card>

		<!-- Physical description -->
		<ion-card *ngIf="suspect.Height || suspect.Weight">
			<ion-card-header>
				<ion-card-title>
					<ion-icon name="body-outline"></ion-icon>
					Physical Description
				</ion-card-title>
			</ion-card-header>
			<ion-card-content>
				<ion-grid>
					<ion-row>
						<ion-col size="6" *ngIf="suspect.Height">
							<div class="detail-item">
								<strong>Height:</strong>
								<span>{{ suspect.Height }}</span>
							</div>
						</ion-col>
						<ion-col size="6" *ngIf="suspect.Weight">
							<div class="detail-item">
								<strong>Weight:</strong>
								<span>{{ suspect.Weight }}</span>
							</div>
						</ion-col>
					</ion-row>
				</ion-grid>
			</ion-card-content>
		</ion-card>

		<!-- Reward information -->
		<ion-card *ngIf="suspect.Reward" class="reward-card">
			<ion-card-content>
				<div class="reward-content">
					<ion-icon name="cash" color="success"></ion-icon>
					<div>
						<h3>Reward Offered</h3>
						<p class="reward-amount">{{ suspect.Reward }}</p>
					</div>
				</div>
			</ion-card-content>
		</ion-card>

		<!-- Details -->
		<ion-card *ngIf="suspect.Details">
			<ion-card-header>
				<ion-card-title>
					<ion-icon name="information-circle"></ion-icon>
					Details
				</ion-card-title>
			</ion-card-header>
			<ion-card-content>
				<p class="suspect-details">{{ suspect.Details }}</p>
			</ion-card-content>
		</ion-card>

		<!-- Contact section -->
		<ion-card *ngIf="suspect.Contact" class="contact-card">
			<ion-card-header>
				<ion-card-title>
					<ion-icon name="call"></ion-icon>
					Report Information
				</ion-card-title>
			</ion-card-header>
			<ion-card-content>
				<p class="contact-info">{{ suspect.Contact }}</p>
				<ion-button expand="block" fill="solid" color="primary" (click)="callContact()" class="contact-button">
					<ion-icon slot="start" name="call"></ion-icon>
					Contact Crime Stoppers
				</ion-button>
			</ion-card-content>
		</ion-card>

		<!-- Action buttons -->
		<div class="action-buttons">
			<ion-button expand="block" fill="outline" color="medium" (click)="goBack()">
				<ion-icon slot="start" name="arrow-back"></ion-icon>
				Back to List
			</ion-button>
		</div>
	</div>

	<!-- Error state -->
	<div *ngIf="!isLoading && !suspect" class="error-state ion-padding">
		<ion-icon name="alert-circle" size="large" color="danger"></ion-icon>
		<h2>Suspect Not Found</h2>
		<p>The requested suspect information could not be loaded.</p>
		<ion-button fill="outline" (click)="goBack()">
			<ion-icon slot="start" name="arrow-back"></ion-icon>
			Back to List
		</ion-button>
	</div>
</ion-content>