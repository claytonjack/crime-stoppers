<app-header title="Most Wanted"></app-header>

<ion-content [fullscreen]="true">
	<ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
		<ion-refresher-content></ion-refresher-content>
	</ion-refresher>

	<div class="ion-padding">
		<!-- Breadcrumbs -->
		<ion-breadcrumbs>
			<ion-breadcrumb (click)="navigateToHome()">
				<ion-icon name="home" slot="start"></ion-icon>
				Home
			</ion-breadcrumb>
			<ion-breadcrumb active="true">
				<ion-icon name="people" slot="start"></ion-icon>
				Most Wanted
			</ion-breadcrumb>
		</ion-breadcrumbs>
		<!-- Loading skeleton -->
		@if (isLoading) {
		<div>
			@for (item of [1,2,3]; track item) {
			<ion-card>
				<ion-card-content>
					<div class="suspect-card-loading">
						<ion-skeleton-text animated style="width: 80px; height: 80px; border-radius: 8px;"></ion-skeleton-text>
						<div class="suspect-info-loading">
							<ion-skeleton-text animated style="width: 60%; height: 20px; margin-bottom: 8px;"></ion-skeleton-text>
							<ion-skeleton-text animated style="width: 40%; height: 16px; margin-bottom: 4px;"></ion-skeleton-text>
							<ion-skeleton-text animated style="width: 50%; height: 16px;"></ion-skeleton-text>
						</div>
					</div>
				</ion-card-content>
			</ion-card>
			}
		</div>
		}

		<!-- Suspects list -->
		@if (!isLoading && suspects.length > 0) {
		<div>
			@for (suspect of suspects; track suspect) {
			<ion-card button (click)="viewSuspectDetails(suspect)" class="suspect-card">
				<ion-card-content>
					<div class="suspect-card-content">
						<div class="suspect-image">
							<img [src]="getImageUrl(suspect)" [alt]="suspect.Name" (error)="onImageError($event)" />
						</div>
						<div class="suspect-info">
							<h2 class="suspect-name">{{ suspect.Name }}</h2>
							@if (suspect.Residence) {
							<p class="suspect-residence">
								<ion-icon name="location"></ion-icon>
								{{ suspect.Residence }}
							</p>
							}
							@if (suspect.Age) {
							<p class="suspect-age">
								<ion-icon name="person"></ion-icon>
								Age: {{ suspect.Age }}
							</p>
							}
							@if (suspect.Reward) {
							<p class="suspect-reward">
								<ion-icon name="cash"></ion-icon>
								Reward: {{ suspect.Reward }}
							</p>
							}
						</div>
						<div class="suspect-actions">
							<ion-icon name="chevron-forward"></ion-icon>
						</div>
					</div>
				</ion-card-content>
			</ion-card>
			}
		</div>
		}

		<!-- Empty state -->
		@if (!isLoading && suspects.length === 0) {
		<div class="empty-state">
			<ion-icon name="people" size="large"></ion-icon>
			<h2>No Suspects Found</h2>
			<p>There are currently no most wanted suspects to display.</p>
			<ion-button fill="outline" (click)="loadSuspects()">
				<ion-icon slot="start" name="refresh"></ion-icon>
				Refresh
			</ion-button>
		</div>
		}
	</div>
</ion-content>